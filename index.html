<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Happy Birthday üéÇ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }
body {
    margin: 0;
    background: #ffd6e8;
    overflow: hidden;
    font-family: "Comic Sans MS", cursive;
}

/* ===== AUTO LANDSCAPE ===== */
#wrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: center;
}
@media (orientation: portrait) {
    #wrapper {
        width: 100vh;
        height: 100vw;
        transform: translate(-50%, -50%) rotate(90deg);
    }
}
@media (orientation: landscape) {
    #wrapper {
        width: 100vw;
        height: 100vh;
        transform: translate(-50%, -50%);
    }
}

/* ===== COUNTDOWN ===== */
#countdown {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 120px;
    font-weight: bold;
    color: white;
    text-shadow: 4px 4px #c97a7a;
}

/* ===== SCENE ===== */
#scene {
    display: none;
    position: absolute;
    inset: 0;
}

/* ===== TITLE ===== */
#title {
    position: absolute;
    top: 8%;
    width: 100%;
    text-align: center;
    font-size: 56px;
    color: white;
    text-shadow: 3px 3px #8b5a2b;
    transition: transform 1.2s ease;
}

/* ===== CAKE ===== */
#cake {
    position: absolute;
    left: 50%;
    top: 62%;
    transform: translate(-50%, -50%) scale(0.8);
    transition: top 1.2s ease;
}
#cake.hide {
    top: 180%;
}

/* candles */
.candles {
    position: absolute;
    top: -50px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 22px;
}
.candle {
    width: 13px;
    height: 50px;
    border-radius: 6px;
    position: relative;
}
.flame {
    position: absolute;
    top: -14px;
    left: 50%;
    transform: translateX(-50%);
    width: 9px;
    height: 14px;
    background: orange;
    border-radius: 50%;
    animation: flicker .3s infinite alternate;
}
@keyframes flicker {
    to { transform: translateX(-50%) scale(1.2); }
}

/* cake tiers */
.tier {
    position: relative;
    margin: 0 auto;
    border-radius: 16px;
    box-shadow: 0 6px rgba(0,0,0,.15);
}
.tier3 { width: 140px; height: 60px; background: #ffd1dc; }
.tier2 { width: 200px; height: 80px; background: #ffe0ea; margin-top: -8px; }
.tier1 { width: 260px; height: 100px; background: #fff1f5; margin-top: -8px; }

.choco {
    position: absolute;
    top: 0;
    width: 100%;
    height: 22px;
    background: #6b3e26;
    border-radius: 16px 16px 0 0;
}
.straw {
    position: absolute;
    top: -22px;
    width: 100%;
    text-align: center;
}

.plate {
    width: 280px;
    height: 16px;
    background: #ddd;
    border-radius: 50%;
    margin: 6px auto 0;
}

/* ===== CONFETTI ===== */
.confetti {
    position: absolute;
    width: 8px;
    height: 8px;
    animation: fall linear forwards;
}
@keyframes fall {
    to {
        transform: translateY(120vh) rotate(360deg);
        opacity: 0;
    }
}

/* ===== TAP ===== */
#tap {
    display: none;
    position: absolute;
    bottom: 6%;
    width: 100%;
    text-align: center;
    font-size: 26px;
    color: #8b5a2b;
    animation: blink 1s infinite;
}
@keyframes blink { 50% { opacity: .4; } }

/* ===== GIFT ===== */
#gift {
    display: none;
    position: absolute;
    left: 50%;
    top: -260px;
    transform: translateX(-50%);
}

#box {
    width: 180px;
    height: 130px;
    background: #ff7675;
    border-radius: 12px;
    position: relative;
}

#lid {
    position: absolute;
    width: 190px;
    height: 40px;
    background: #d63031;
    top: -40px;
    left: -5px;
    border-radius: 12px;
}

/* ===== PAPER ===== */
#paper {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(.9);
    width: 440px;
    padding: 32px;
    background: white;
    border-radius: 14px;
    box-shadow: 0 10px 20px rgba(0,0,0,.3);
    text-align: center;
    opacity: 0;
    transition: opacity 1s ease, transform 1s ease;

    font-family: system-ui, -apple-system, "Segoe UI",
                 Roboto, Arial, sans-serif;
    font-size: 24px;
    line-height: 1.6;
}
#paper.show {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
}
</style>
</head>

<body>
<div id="wrapper">

<div id="countdown">5</div>

<div id="scene">
    <div id="title">Happy Birthday</div>

    <div id="cake">
        <div class="candles">
            <div class="candle" style="background:#2ecc71"><div class="flame"></div></div>
            <div class="candle" style="background:#e74c3c"><div class="flame"></div></div>
            <div class="candle" style="background:#f1c40f"><div class="flame"></div></div>
        </div>

        <div class="tier tier3"><div class="choco"></div><div class="straw">üçì üçí üçì</div></div>
        <div class="tier tier2"><div class="choco"></div><div class="straw">üçì üçí üçì</div></div>
        <div class="tier tier1"><div class="choco"></div><div class="straw">üçì üçí üçì</div></div>
        <div class="plate"></div>
    </div>

    <div id="tap">üëÜ Ch·∫°m v√†o m√†n h√¨nh ƒë·ªÉ xem ti·∫øp</div>

    <div id="gift">
        <div id="box"><div id="lid"></div></div>
    </div>

    <div id="paper">
        <br> M·ªü qu√† xong roi √† =)))). Minh ƒê·ª©c kh√¥ng bi·∫øt Thanh H√† th√≠ch g√¨ n√™n Minh ƒê·ª©c th·∫•y c√°i g√¨ hay l√† Minh ƒê·ª©c t·∫∑ng h·∫øt. Nh·ªõ c·∫•t ƒëi c·∫©n th·∫≠n, sau n√†y c·ª© nh√¨n th·∫•y n√≥ l√† nh·ªõ ƒë·∫øn Minh ƒê·ª©c =))). Ti·ªán th√¨ c≈©ng cho Minh ƒê·ª©c xin l·ªói v√¨ nh·ªØng l·∫ßn l√†m Thanh H√† kh√≥ ch·ªãu nh√©. üëâüëà 
    </div>
</div>

</div>

<script>
let n = 5;
const cd = document.getElementById("countdown");
const scene = document.getElementById("scene");

const timer = setInterval(() => {
    n--;
    cd.textContent = n;
    if (n === 0) {
        clearInterval(timer);
        cd.style.display = "none";
        scene.style.display = "block";
        fireworks();
        setTimeout(() => tap.style.display = "block", 2000);
    }
}, 1000);

function fireworks() {
    [60, wrapper.clientWidth - 60].forEach(x => {
        for (let i = 0; i < 50; i++) {
            const c = document.createElement("div");
            c.className = "confetti";
            c.style.left = x + Math.random()*80 - 40 + "px";
            c.style.top = "40px";
            c.style.background = randColor();
            c.style.animationDuration = 2 + Math.random() + "s";
            wrapper.appendChild(c);
            setTimeout(() => c.remove(), 3000);
        }
    });
}

document.addEventListener("click", () => {
    tap.style.display = "none";

    // FIX QUAN TR·ªåNG ·ªû ƒê√ÇY üëá
    title.style.transform = "translateY(-150vh)";

    cake.classList.add("hide");

    gift.style.display = "block";
    gift.animate([{ top: "-260px" }, { top: "50%" }], {
        duration: 1200,
        fill: "forwards"
    });

    setTimeout(() => {
        lid.animate(
            [{ top: "-40px" }, { top: "500px" }],
            { duration: 1200, easing: "cubic-bezier(.2,.8,.3,1)", fill: "forwards" }
        );
        setTimeout(() => paper.classList.add("show"), 900);
    }, 1400);
}, { once: true });

function randColor() {
    return ["#ff4757","#1e90ff","#2ed573","#ffa502","#e84393","#fff"]
        [Math.floor(Math.random()*6)];
}
</script>

</body>
</html>
